---
title: Vue 3 与中后台前端的可维护性实践
date: 2026-02-14 12:00:00
categories: 前端
tags:
  - Vue
  - 前端
  - 最佳实践
  - 可维护性
description: 记录组件设计、状态划分、列表/表单通用方案及与后端协作边界等可维护性实践。
permalink: 2026/02/14/vue3-maintainability-practices/
---

## 一、可维护性的目标

中后台迭代快、参与人多，代码易变成「能跑但难改」。通过**约定、抽象与边界**控制后续需求与接手成本；可维护性直接关联设计能力与工程思维。

---

## 二、组件设计：单一职责与复用边界

- **页面级 vs 通用组件**：页面专属逻辑放在页面或 `views/xxx/components`；多页共用的表格、表单、弹窗等抽到 `components/` 或独立包，用 props/events 约束接口。
- **组合式函数（Composables）**：将「请求列表」「表单校验」「权限判断」等逻辑抽成 `useXxx`，在多页面复用并便于单测。
- **避免过度抽象**：先满足当前 2～3 个调用方再抽象；不为「可能的需求」提前做复杂配置。

---

## 三、状态划分与数据流

- **全局 vs 局部**：仅多页共享的进 Pinia/Vuex；页内或组件树内能解决的用 `reactive`/`ref` + provide/inject 或 props。
- **与后端的边界**：接口按领域或模块划分（如 `api/order.js`）；请求封装统一处理 loading、错误与鉴权；避免在组件中散落大量 `axios.get`。
- **表单与临时状态**：大表单用 `reactive` 一份数据、校验规则集中管理；提交前再组 payload，不将接口结构写死在模板中。

---

## 四、列表与表单的通用方案

- **列表页**：查询条件、表格列、分页与请求参数可配置化（如 listData.js + 通用 Table 组件）；增删改查按钮与权限用配置驱动，减少重复代码。
- **表单页**：新建/编辑共用一套表单结构，通过 id 有无区分；校验规则与提交前转换（时间、枚举）集中处理。
- **列表页通用方案**：TableCommon、listData 等配置化表格与查询条件，可在不涉及机密的前提下沉淀为「列表页通用方案设计」类文档。

---

## 五、规范与协作

- **命名与目录**：views 按业务模块划分；components 按类型或领域划分；常量、类型、工具函数单独目录，便于查找。
- **注释与文档**：复杂逻辑注明「为什么」；公共组件在 README 或 Storybook 中写使用示例与 props 说明。
- **CR 关注点**：除功能正确外，关注「新人能否快速看懂」「改一处是否易牵一发而动全身」。

---

## 六、小结

可维护性即**约定清晰、边界明确、改动可预期**。用 1～2 个具体场景（如「列表页配置化」「表单与接口的转换层」）说清方案；中后台、组件库或基建的实践可概括为方案记录（脱敏），形成「业务负责 + 方案沉淀」的闭环。
